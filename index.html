<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>자기소개 프로그램</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .profile {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .profile img {
            border-radius: 50%;
            width: 100px;
            height: 100px;
            margin-right: 20px;
        }
        .category-table {
            width: 100%;
            border-collapse: collapse;
        }
        .category-table th, .category-table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        .add-category {
            margin-top: 10px;
        }
        .move {
            cursor: pointer;
        }
        .move:hover {
            color: blue;
        }
        .delete {
            color: red;
            cursor: pointer;
        }
        textarea {
            width: 100%;
            resize: vertical; /* 세로로만 크기 조절 가능 */
            overflow: auto; /* 내용이 넘칠 경우 스크롤 */
        }
        input[type="text"] {
            width: 100%;
        }
    </style>
</head>
<body>

    <div class="profile">
        <img id="profilePic" src="https://via.placeholder.com/100" alt="프로필 사진">
        <div>
            <input type="file" id="fileInput" accept="image/*" onchange="updateProfilePic()">
            <br>
            <input type="text" id="name" placeholder="이름">
            <br>
            <textarea id="bio" placeholder="간단한 소개" rows="3"></textarea>
        </div>
    </div>

    <table class="category-table">
        <thead>
            <tr>
                <th>이동</th>
                <th>카테고리</th>
                <th>설명</th>
                <th>삭제</th>
            </tr>
        </thead>
        <tbody id="categoryList"></tbody>
    </table>

    <button class="add-category" onclick="addCategory()">카테고리 추가</button>

    <script>
        function updateProfilePic() {
            const fileInput = document.getElementById('fileInput');
            const profilePic = document.getElementById('profilePic');

            const file = fileInput.files[0];
            const reader = new FileReader();

            reader.onloadend = function() {
                profilePic.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            }
        }

        function addCategory() {
            const categoryList = document.getElementById('categoryList');
            const row = document.createElement('tr');

            row.innerHTML = `
                <td>
                    <span class="move" onclick="moveUp(this)">↑</span>
                    <span class="move" onclick="moveDown(this)">↓</span>
                </td>
                <td><input type="text" placeholder="카테고리"></td>
                <td><textarea placeholder="설명" rows="1" oninput="this.rows = Math.min(this.value.split('\n').length, 5);"></textarea></td>
                <td><span class="delete" onclick="deleteCategory(this)">x</span></td>
            `;
            categoryList.appendChild(row);
        }

        function deleteCategory(element) {
            const row = element.parentElement.parentElement;
            row.parentElement.removeChild(row);
        }

        function moveUp(element) {
            const row = element.parentElement.parentElement;
            if (row.previousElementSibling) {
                row.parentElement.insertBefore(row, row.previousElementSibling);
            }
        }

        function moveDown(element) {
            const row = element.parentElement.parentElement;
            if (row.nextElementSibling) {
                row.parentElement.insertBefore(row.nextElementSibling, row);
            }
        }
    </script>

</body>
</html>
